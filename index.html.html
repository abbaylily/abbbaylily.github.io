<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å°çº¢ä¹¦</title>
<style>
  /* ---------- 1. å…¨å±€å˜é‡ä¸åŸºç¡€è®¾ç½® (ä¿æŒä¸å˜) ---------- */
  :root{
    --bg-white: #ffffff;
    --text-main: #333333;
    --text-gray: #999999;     
    --brand-red: #ff2442;     
    --nav-active-bg: #f4f4f4; 
    --search-bg: #f5f5f5;     
    --modal-radius: 24px; 
  }
  
  html, body { margin: 0; padding: 0; height: 100%; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: var(--bg-white); color: var(--text-main); -webkit-font-smoothing: antialiased; }
  a { text-decoration: none; color: inherit; }
  img { -webkit-user-drag: none; user-select: none; }
  
  /* Header */
  .header { position: fixed; top: 0; left: 0; right: 0; height: 72px; background: #fff; display: flex; align-items: center; padding: 0 24px 0 16px; z-index: 100; }
  .logo-wrap { width: 240px; display: flex; align-items: center; padding-left: 8px; }
  .logo-img { height: 32px; width: auto; display: block; cursor: pointer; object-fit: contain; }
  .search-wrap { flex: 1; display: flex; justify-content: center; }
  .search-box { width: 100%; max-width: 500px; height: 40px; background: var(--search-bg); border-radius: 999px; display: flex; align-items: center; padding: 0 16px 0 24px; transition: 0.2s; }
  .search-box:hover { background: #eef0f3; }
  .search-box input { flex: 1; border: none; outline: none; background: transparent; font-size: 16px; color: #333; height: 100%; }
  .search-box input::placeholder { color: #999; opacity: 0.8; }
  .search-icon { width: 20px; height: 20px; color: #666; cursor: pointer; }
  .header-right { width: 240px; display: flex; justify-content: flex-end; gap: 24px; font-size: 16px; color: #666; font-weight: 400; }
  .header-right span { cursor: pointer; transition: color 0.2s; }
  .header-right span:hover { color: #333; }

  /* Sidebar */
  .sidebar { position: fixed; top: 72px; left: 0; bottom: 0; width: 240px; background: #fff; padding: 20px 16px 20px 16px; display: flex; flex-direction: column; z-index: 90; }
  .nav-item { display: flex; align-items: center; gap: 16px; height: 48px; padding: 0 20px; border-radius: 24px; font-size: 16px; font-weight: 600; color: #333; cursor: pointer; margin-bottom: 8px; transition: background 0.1s; }
  .nav-item.active { background: var(--nav-active-bg); }
  .nav-item:hover:not(.active) { background: #fafafa; }
  .nav-icon { width: 24px; height: 24px; display: block; object-fit: contain; }
  .avatar-icon { width: 28px; height: 28px; border-radius: 50%; object-fit: cover; border: 1px solid #f0f0f0; }
  .sidebar-bottom { margin-top: auto; }

  /* Main */
  .main-container { margin-left: 240px; padding: 72px 40px 0 88px; min-height: 100vh; }
  .tabs-container { width: 100%; padding: 20px 0 16px 0; background: #fff; position: sticky; top: 72px; z-index: 80; display: flex; justify-content: flex-start; gap: 0px; }
  .tab-item { padding: 8px 14px; border-radius: 999px; font-size: 16px; color: #666; cursor: pointer; user-select: none; transition: all 0.2s; margin-right: 4px; }
  .tab-item:hover { color: #333; background: #fafafa; }
  .tab-item.active { background: var(--nav-active-bg); color: #333; font-weight: 600; }
  
  /* Grid */
  .feed-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; align-items: start; }
  .card { background: #fff; cursor: pointer; }
  .card-media { width: 100%; aspect-ratio: 3/4; background: #f8f8f8; border-radius: 12px; position: relative; overflow: hidden; }
  .card-media img { width: 100%; height: 100%; object-fit: cover; display: block; }
  .card-info { padding: 12px 4px; }
  .card-title { font-size: 15px; font-weight: 500; color: #333; line-height: 1.4; margin-bottom: 8px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
  .card-user { display: flex; align-items: center; justify-content: space-between; color: #999; font-size: 12px; }
  .user-left { display: flex; align-items: center; gap: 6px; }
  .user-avatar { width: 20px; height: 20px; border-radius: 50%; background: #eee; object-fit: cover; }
  .like-right { display: flex; align-items: center; gap: 4px; }
  
  /* Buttons */
  .floating-btns { position: fixed; bottom: 40px; right: 40px; display: flex; flex-direction: column; gap: 16px; z-index: 200; }
  .float-btn { width: 48px; height: 48px; background: #fff; border-radius: 50%; border: 1px solid #e6e6e6; display: flex; align-items: center; justify-content: center; cursor: default; color: #333; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: transform 0.2s; }
  .float-btn:hover { transform: scale(1.05); }

  /* Modal */
  .overlay { position: fixed; inset: 0; z-index: 1000; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; }
  .overlay.open { display: flex; }
  .modal { width: 950px; max-width: 90vw; height: 85vh; background: #fff; border-radius: var(--modal-radius); display: flex; overflow: hidden; position: relative; box-shadow: 0 8px 30px rgba(0,0,0,0.2); }
  
  /* å…³é—­æŒ‰é’® */
  .close-modal { position: absolute; top: 20px; left: 20px; width: 44px; height: 44px; border-radius: 50%; background: rgba(255,255,255,0.9); color: #333; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 20; border: 1px solid rgba(0,0,0,0.05); font-size: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.1s; }
  .close-modal:hover { transform: scale(1.05); }
  
  /* ğŸ”¥ ä¿®æ”¹ï¼šå·¦ä¾§åª’ä½“åŒº (æ”¹ä¸ºç›¸å¯¹å®šä½ï¼Œæ–¹ä¾¿æ”¾ç½®è½®æ’­å…ƒç´ ) */
  .modal-media { 
    flex: 1.6; background: #f8f8f8; 
    position: relative; /* å…³é”® */
    display: flex; align-items: center; justify-content: center; 
    overflow: hidden; /* éšè—æº¢å‡º */
  }
  /* å›¾ç‰‡é»˜è®¤æ ·å¼ï¼šç»å¯¹å®šä½å±…ä¸­ */
  .slider-img { 
    max-width: 100%; max-height: 100%; object-fit: contain; 
    display: none; /* é»˜è®¤éšè— */
  }
  .slider-img.active { display: block; } /* æ¿€æ´»æ˜¾ç¤º */
  
  /* è§†é¢‘æ ·å¼ */
  .modal-media video { width: 100%; height: 100%; object-fit: contain; }

  /* ğŸ”¥ æ–°å¢ï¼šè½®æ’­å›¾ç®­å¤´ */
  .slider-btn {
    position: absolute; top: 50%; transform: translateY(-50%);
    width: 36px; height: 36px; border-radius: 50%;
    background: rgba(255,255,255,0.8);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; z-index: 5;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    color: #333;
    user-select: none;
  }
  .slider-btn:hover { background: #fff; }
  .slider-prev { left: 16px; }
  .slider-next { right: 16px; }
  /* å½“ç¬¬ä¸€å¼ /æœ€åä¸€å¼ æ—¶éšè—ç®­å¤´ */
  .slider-btn.hidden { display: none; }

  /* ğŸ”¥ æ–°å¢ï¼šåº•éƒ¨åœ†ç‚¹ */
  .slider-dots {
    position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
    display: flex; gap: 6px; z-index: 5;
  }
  .slider-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(0,0,0,0.2); }
  .slider-dot.active { background: var(--brand-red); }

  /* ğŸ”¥ æ–°å¢ï¼šå³ä¸Šè§’é¡µç  (å¦‚ 1/5) */
  .image-counter {
    position: absolute; top: 20px; right: 20px;
    background: rgba(0,0,0,0.3); color: #fff;
    padding: 4px 10px; border-radius: 12px;
    font-size: 12px; font-weight: 500;
    z-index: 5;
  }

  /* å³ä¾§å†…å®¹åŒº */
  .modal-content { flex: 1; display: flex; flex-direction: column; background: #fff; position: relative; min-width: 360px; }
  .note-header { padding: 24px 24px 16px; display: flex; align-items: center; gap: 12px; border-bottom: 1px solid transparent; }
  .author-big-avatar { width: 40px; height: 40px; border-radius: 50%; background:#eee; object-fit: cover; border:1px solid #f5f5f5;}
  .author-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
  .author-name { font-weight: 600; font-size: 15px; color: #333; }
  /* å…³æ³¨æŒ‰é’®ï¼šçº¢åº•ç™½å­— */
  .follow-btn { border: none; color: #fff; background: var(--brand-red); padding: 8px 24px; border-radius: 20px; font-weight: 600; font-size: 14px; cursor: default; display: flex; align-items: center; justify-content: center; }
  
  .note-scroll-area { flex: 1; overflow-y: auto; padding: 0 24px 20px; }
  .note-scroll-area::-webkit-scrollbar { width: 6px; }
  .note-scroll-area::-webkit-scrollbar-thumb { background: #e0e0e0; border-radius: 3px; }
  .note-title { font-size: 18px; font-weight: 600; margin: 0 0 8px 0; color: #333; line-height: 1.4; }
  .note-desc { font-size: 15px; line-height: 1.6; color: #333; white-space: pre-wrap; margin-bottom: 12px; }
  .note-tags { color: #13386c; font-size: 15px; margin-bottom: 12px; font-family: sans-serif; }
  .note-date { font-size: 12px; color: #999; margin-bottom: 40px; }
  .comment-empty { border-top: 1px solid #f0f0f0; padding-top: 60px; padding-bottom: 60px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #999; gap: 10px; }
  .empty-icon { width: 80px; height: 80px; opacity: 0.2; }
  
  /* åº•éƒ¨äº’åŠ¨æ  */
  .note-footer { padding: 16px 24px; border-top: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between; background: #fff; }
  .footer-left { display: flex; align-items: center; gap: 12px; flex: 1; margin-right: 20px; }
  .footer-avatar { width: 28px; height: 28px; border-radius: 50%; border: 1px solid #eee; flex-shrink: 0; }
  .footer-input-box { flex: 1; height: 40px; background: #f5f5f5; border-radius: 20px; display: flex; align-items: center; padding-left: 16px; color: #999; font-size: 14px; cursor: text; }
  .footer-right { display: flex; align-items: center; gap: 20px; color: #333; }
  .action-icon { width: 24px; height: 24px; cursor: pointer; transition: transform 0.1s; }
  .action-icon:hover { transform: scale(1.1); color: #000; }
</style>
</head>
<body>

<!-- é¡¶éƒ¨å¯¼èˆªæ  -->
<header class="header">
  <div class="logo-wrap">
    <!-- ğŸ”´ 1. è¯·ä¿®æ”¹ï¼šè¿™é‡Œæ›¿æ¢ä¸ºæ‚¨çš„å°çº¢ä¹¦ Logo å›¾ç‰‡è·¯å¾„ -->
    <img src="d:\Users\abbay\Desktop\ç½‘é¡µHTML-è„šæœ¬\logo.png" alt="å°çº¢ä¹¦" class="logo-img">
  </div>
  <div class="search-wrap">
    <div class="search-box">
      <input type="text" placeholder="æœç´¢å°çº¢ä¹¦" disabled />
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
    </div>
  </div>
  <div class="header-right">
    <span>åˆ›ä½œä¸­å¿ƒ</span>
    <span>ä¸šåŠ¡åˆä½œ</span>
  </div>
</header>

<!-- å·¦ä¾§ä¾§è¾¹æ  -->
<aside class="sidebar">
  <div class="nav-group">
    <div class="nav-item active">
      <!-- ğŸ”´ 2. è¯·ä¿®æ”¹ï¼šè¿™é‡Œæ›¿æ¢ä¸ºæ‚¨çš„ å‘ç° å›¾æ ‡è·¯å¾„ -->
      <img src="d:\Users\abbay\Desktop\ç½‘é¡µHTML-è„šæœ¬\å‘ç°.png" class="nav-icon" alt="å‘ç°">
      <span>å‘ç°</span>
    </div>
    <div class="nav-item">
      <!-- ğŸ”´ 3. è¯·ä¿®æ”¹ï¼šè¿™é‡Œæ›¿æ¢ä¸ºæ‚¨çš„ å‘å¸ƒ å›¾æ ‡è·¯å¾„ -->
      <img src="d:\Users\abbay\Desktop\ç½‘é¡µHTML-è„šæœ¬\å‘å¸ƒ.png" class="nav-icon" alt="å‘å¸ƒ">
      <span>å‘å¸ƒ</span>
    </div>
    <div class="nav-item">
      <!-- ğŸ”´ 4. è¯·ä¿®æ”¹ï¼šè¿™é‡Œæ›¿æ¢ä¸ºæ‚¨çš„ é€šçŸ¥ å›¾æ ‡è·¯å¾„ -->
      <img src="d:\Users\abbay\Desktop\ç½‘é¡µHTML-è„šæœ¬\é€šçŸ¥.png" class="nav-icon" alt="é€šçŸ¥">
      <span>é€šçŸ¥</span>
    </div>
    <div class="nav-item">
      <!-- é€šç”¨é£æ™¯å¤´åƒ -->
      <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23a2d2ff'/><circle cx='80' cy='20' r='10' fill='%23ffea00'/><path d='M0 100 L40 60 L70 90 L100 50 L100 100 Z' fill='%23a8d08d'/></svg>" class="avatar-icon" alt="Me">
      <span>æˆ‘</span>
    </div>
  </div>
  <div class="sidebar-bottom">
    <div class="nav-item">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      <span>æ›´å¤š</span>
    </div>
  </div>
</aside>

<!-- ä¸»å†…å®¹åŒº -->
<main class="main-container">
  <div class="tabs-container">
    <div class="tab-item active">æ¨è</div>
    <div class="tab-item">ç©¿æ­</div>
    <div class="tab-item">ç¾é£Ÿ</div>
    <div class="tab-item">å½©å¦†</div>
    <div class="tab-item">å½±è§†</div>
    <div class="tab-item">èŒåœº</div>
    <div class="tab-item">æƒ…æ„Ÿ</div>
    <div class="tab-item">å®¶å±…</div>
    <div class="tab-item">æ¸¸æˆ</div>
    <div class="tab-item">æ—…è¡Œ</div>
    <div class="tab-item">å¥èº«</div>
  </div>
  
  <!-- å†…å®¹ç”± JS ç”Ÿæˆ -->
  <div class="feed-grid" id="feedGrid"></div>
</main>

<!-- æ‚¬æµ®æŒ‰é’® -->
<div class="floating-btns">
  <div class="float-btn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
  </div>
  <div class="float-btn">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"></path><path d="M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
  </div>
</div>

<!-- å¼¹çª— -->
<div class="overlay" id="overlay">
  <div class="modal">
    <!-- å·¦ä¸Šè§’å…³é—­æŒ‰é’® -->
    <button class="close-modal" onclick="closeModal()">âœ•</button>
    
    <!-- å·¦ä¾§åª’ä½“åŒº -->
    <div class="modal-media" id="modalMedia">
      <!-- JS åŠ¨æ€æ’å…¥å†…å®¹ -->
    </div>
    
    <!-- å³ä¾§å†…å®¹åŒº -->
    <div class="modal-content">
      <div class="note-header">
        <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23a2d2ff'/><circle cx='80' cy='20' r='10' fill='%23ffea00'/><path d='M0 100 L40 60 L70 90 L100 50 L100 100 Z' fill='%23a8d08d'/></svg>" class="author-big-avatar" alt="">
        <div class="author-info">
          <div class="author-name">åŒ¿åç”¨æˆ·</div>
        </div>
        <button class="follow-btn">å…³æ³¨</button>
      </div>
      
      <div class="note-scroll-area">
        <h2 class="note-title" id="modalTitle"></h2>
        <div class="note-desc" id="modalDesc"></div>
        <div class="note-tags">#å¥åº·å…»ç”Ÿ #ç”Ÿæ´»è®°å½• #ç¬”è®°çµæ„Ÿ</div>
        <div class="note-date">01-01 ä¸Šæµ·</div>
        
        <div class="comment-empty">
          <svg class="empty-icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="M512 64C264.6 64 64 232.3 64 440c0 132.3 81 248.4 203.4 312.3 0 0-27.4 85.4-102.7 139.4 0 0 176.2-10.1 282.4-107.2 20.9 1.9 42.3 3 64.1 3 247.4 0 448-168.3 448-376S759.4 64 512 64zM327.3 485c-32.3 0-58.5-26.2-58.5-58.5s26.2-58.5 58.5-58.5 58.5 26.2 58.5 58.5-26.2 58.5-58.5 58.5z m369.4 0c-32.3 0-58.5-26.2-58.5-58.5s26.2-58.5 58.5-58.5 58.5 26.2 58.5 58.5-26.2 58.5-58.5 58.5z"></path></svg>
          <div>è¿™é‡Œæ˜¯ä¸€ç‰‡è’åœ°ï¼Œç‚¹å‡»è¯„è®º</div>
        </div>
      </div>
      
      <div class="note-footer">
        <div class="footer-left">
          <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23a2d2ff'/><circle cx='80' cy='20' r='10' fill='%23ffea00'/><path d='M0 100 L40 60 L70 90 L100 50 L100 100 Z' fill='%23a8d08d'/></svg>" class="footer-avatar" alt="">
          <div class="footer-input-box">è¯´ç‚¹ä»€ä¹ˆ...</div>
        </div>
        <div class="footer-right">
          <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="1.8"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="1.8"><path d="M12 17.75l-6.172 3.245 1.179-6.873-5-4.867 6.9-1 3.086-6.253 3.086 6.253 6.9 1-5 4.867 1.179 6.873z"></path></svg>
          <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="1.8"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
          <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="1.8"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  /* 
    ============================================================================
    ğŸš€ ç´ æä¿®æ”¹åŒº 
    ============================================================================
  */
  const notesData = [
    // 1. æ–‡å­—ç‰ˆå†…å®¹ (æ— è½®æ’­ï¼Œåªæ˜¾ç¤ºä¸€å¼ å°é¢)
    {
      id: 'note_text',
      type: 'text', 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šåˆ—è¡¨é¡µå°é¢å›¾è·¯å¾„
      cover: "æ–‡å­—-å°é¢-å½©è™¹.jpg", 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ ‡é¢˜
      title: "å½©è™¹é¥®é£Ÿæ³•ï¼Œè®©ä½ è¶Šåƒè¶Šå¥åº·ï¼",
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ­£æ–‡å†…å®¹ (æ”¯æŒ\næ¢è¡Œ)
      desc: `å½©è™¹é¥®é£Ÿæ³•\næ˜¯ç¾å›½ç™Œç—‡åä¼šæ¨èçš„å¥åº·é¥®é£Ÿæ³•ï¼Œæ ¸å¿ƒæ˜¯é£Ÿç‰©é¢œè‰²è¶Šä¸°å¯Œï¼Œè¥å…»è¶Šå…¨é¢ã€‚å®ƒå°†é£Ÿç‰©æŒ‰å¤©ç„¶é¢œè‰²åˆ†ä¸ºäº”å¤§ç±»ï¼šçº¢ã€æ©™é»„ã€ç»¿ã€ç´«é»‘ã€ç™½ï¼Œå€¡å¯¼æ¯å¤©æ‘„å…¥å¤šç§é¢œè‰²çš„å¤©ç„¶æœè”¬ï¼Œè·å–å¤šæ ·åŒ–è¥å…»ç´ ã€‚\nä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºé£Ÿç‰©çš„è‰²å½©æºäºä¸åŒçš„æ¤ç‰©åŒ–å­¦ç‰©ï¼ˆPhytochemicalsï¼‰ï¼Œå¦‚èŠ±é’ç´ ã€ç•ªèŒ„çº¢ç´ ç­‰ï¼Œæ¯ç§é¢œè‰²ä»£è¡¨ç‰¹å®šçš„è¥å…»ç´ ï¼Œå…·æœ‰ç‹¬ç‰¹åŠŸæ•ˆã€‚\n\n1ã€çº¢è‰²é£Ÿç‰©\nå¯Œå«ï¼šç•ªèŒ„çº¢ç´ ã€èŠ±é’ç´ ã€ç»´ç”Ÿç´ Aã€é“\nç›Šå¤„ï¼š å¼ºå¤§æŠ—æ°§åŒ–å‰‚ï¼Œå¯ä»¥å»¶ç¼“è¡°è€ï¼›ä¿ƒè¿›è¡€æ¶²å¾ªç¯ï¼Œé™ä½å¿ƒè¡€ç®¡ç–¾ç—…ï¼›å…»é¢œè¡¥é“ï¼Œä¿æŒèº«ä½“å¹´è½»æ€\né£Ÿç‰©ï¼šè‰è“ã€çº¢è‹¹æœã€æ¨±æ¡ƒã€çŸ³æ¦´ã€çº¢å½©æ¤’ã€ç•ªèŒ„ã€çº¢è±†ã€çº¢ç±³ã€æ¸æã€çº¢æ£\n\n2ã€æ©™é»„è‰²é£Ÿç‰©\nå¯Œå«ï¼šèƒ¡èåœç´ ã€ç»´ç”Ÿç´ Cã€å¶é»„ç´ \nç›Šå¤„ï¼šä¿æŠ¤è§†åŠ›ï¼›å‡å°‘çš®è‚¤è‰²æ–‘ï¼Œç»´æŠ¤çš®è‚¤å¥åº·ï¼›è°ƒèŠ‚è„¾èƒƒï¼›è°ƒèŠ‚å†…åˆ†æ³Œï¼›æé«˜å…ç–«åŠ›\né£Ÿç‰©ï¼šæ©™å­ã€é¦™è•‰ã€èŠ’æœã€é»„æ¡ƒã€èƒ¡èåœã€é»„å½©æ¤’ã€éŸ­é»„ã€é»„èŠ±èœã€ç‰ç±³ã€å°ç±³ã€å—ç“œã€çº¢è–¯\n\n3ã€ç»¿è‰²é£Ÿç‰©\nå¯Œå«ï¼š å¶ç»¿ç´ ã€å¶é…¸ã€è†³é£Ÿçº¤ç»´\nç›Šå¤„ï¼š ä¿ƒè¿›æ¶ˆåŒ–ï¼Œé˜²æ­¢ä¾¿ç§˜ï¼›æ’æ¯’å…»é¢œï¼›ç»´æŠ¤éª¨éª¼å¥åº·ï¼Œæä¾›ä¸°å¯Œç»´ç”Ÿç´ \né£Ÿç‰©ï¼šç‰›æ²¹æœã€çŒ•çŒ´æ¡ƒã€é’æ£ã€é’è±†ç±»ã€è¥¿å…°èŠ±ã€é’æ¤’ã€é»„ç“œã€å„ç§ç»¿å¶è”¬èœ\n\n4ã€ç´«é»‘è‰²é£Ÿç‰©\nå¯Œå«ï¼šèŠ±é’ç´ ã€èŠ±è‰²è‹·ã€å¤šé…šç±»\nç›Šå¤„ï¼šç†æƒ³çš„æŠ—è‡ªç”±åŸºç‰©è´¨ï¼›å¯ä»¥æŠ—æ°§åŒ–å’ŒæŠ—ç‚ï¼ŒæŠ—è¡°è€ï¼›æ”¹å–„è®¤çŸ¥å’Œè®°å¿†ï¼Œä¿æŠ¤å¤§è„‘ï¼›é¢„é˜²é«˜è¡€å‹\né£Ÿç‰©ï¼šè“è“ã€æ¡‘è‘šã€è‘¡è„ã€ç´«ç”˜è“ã€èŒ„å­ã€æ´‹è‘±ã€ç´«è–¯ã€é»‘æœ¨è€³ã€é»‘ç±³ã€é»‘è±†ã€é»‘æ¸æã€é»‘èŠéº»\n\n5ã€ç™½è‰²é£Ÿç‰©\nå¯Œå«ï¼šå¤§è’œç´ ã€èŠ±é»„ç´ ã€ç¡«åŒ–ç‰©ã€è†³é£Ÿçº¤ç»´\nç›Šå¤„ï¼šæŠ—èŒæ¶ˆç‚ï¼›é™ä½èƒ†å›ºé†‡ï¼›å¢å¼ºå…ç–«åŠ›ï¼›ç¨³å®šè¡€ç³–ï¼Œå¹³ç¨³æƒ…ç»ª\né£Ÿç‰©ï¼šæ¢¨ã€é¦™ç“œã€å¤§è’œã€è²è—•ã€ç™½èåœã€å£è˜‘ã€å±±è¯ã€é“¶è€³ã€ç™½èŠ¸è±†ã€ç™½èŠéº»ã€å†¬ç“œã€å¤§ç±³ã€ç‡•éº¦`
    },

    // 2. å›¾ç‰‡ç‰ˆå†…å®¹ (ğŸ”¥è½®æ’­æ¨¡å¼)
    {
      id: 'note_image',
      type: 'image', 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šåˆ—è¡¨é¡µå°é¢å›¾è·¯å¾„
      cover: "1-å½©è™¹1.png", 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ ‡é¢˜
      title: "è·Ÿç€å½©è™¹é¥®é£Ÿåƒï¼Œå¥åº·æ°”è‰²åŒåœ¨çº¿ï¼",
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ­£æ–‡
      desc: "",
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šè¯¦æƒ…é¡µçš„å›¾ç‰‡åˆ—è¡¨ (å»ºè®®3-6å¼ )
      images: [
        "1-å½©è™¹2.png",
        "1-å½©è™¹3.png",
        "1-å½©è™¹4.png",
        "1-å½©è™¹5.png",
        "1-å½©è™¹6.png",
      // å¦‚æœæœ‰æ›´å¤šå›¾ç‰‡ï¼Œç»§ç»­åŠ é€—å·å’Œè·¯å¾„: "detail_img_4.jpg"
      ]
    },

    // 3. è§†é¢‘ç‰ˆå†…å®¹
    {
      id: 'note_video',
      type: 'video', 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šåˆ—è¡¨é¡µå°é¢å›¾è·¯å¾„
      cover: "1å½©è™¹é¥®é£Ÿæ³•-å°é¢.jpg", 
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ ‡é¢˜
      title: "å¥åº·é¥®é£Ÿå¤šæ ·åŒ–ï¼Œè§£é”å½©è™¹é¥®é£Ÿæ¸…å•ï¼",
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šæ­£æ–‡
      desc: "",
      // ğŸ”´ è¯·ä¿®æ”¹ï¼šè§†é¢‘æ–‡ä»¶è·¯å¾„
      videoSrc: "1å½©è™¹é¥®é£Ÿæ³•.mp4" 
    }
  ];

  /* 
    ============================================================================
    âš™ï¸ ç³»ç»Ÿé€»è¾‘ (åŒ…å«è½®æ’­å›¾åŠŸèƒ½)
    ============================================================================
  */
  
  // éšæœºæ‰“ä¹±
  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  // åˆå§‹åŒ–é¡µé¢
  function initFeed() {
    const grid = document.getElementById('feedGrid');
    const shuffledNotes = shuffleArray([...notesData]); 
    grid.innerHTML = ''; 
    
    shuffledNotes.forEach(note => {
      const card = document.createElement('div');
      card.className = 'card';
      card.onclick = () => openModal(note.id);

      const playIconHtml = note.type === 'video' 
        ? `<svg style="position:absolute; top:10px; right:10px; width:24px; height:24px; color:white; filter:drop-shadow(0 1px 2px rgba(0,0,0,0.3));" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3" fill="transparent"></polygon><path d="M5 3 L19 12 L5 21 Z" fill="rgba(0,0,0,0.2)" stroke="white" stroke-width="2" /></svg>` 
        : '';

      card.innerHTML = `
        <div class="card-media">
          <img src="${note.cover}" alt="cover">
          ${playIconHtml}
        </div>
        <div class="card-info">
          <div class="card-title">${note.title}</div>
          <div class="card-user">
            <div class="user-left">
              <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23a2d2ff'/><circle cx='80' cy='20' r='10' fill='%23ffea00'/><path d='M0 100 L40 60 L70 90 L100 50 L100 100 Z' fill='%23a8d08d'/></svg>" class="user-avatar" alt="">
              <span>åŒ¿åç”¨æˆ·</span>
            </div>
            <div class="like-right">
               <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
            </div>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });
  }

  // è¯¦æƒ…é¡µå…ƒç´ 
  const overlay = document.getElementById('overlay');
  const modalMedia = document.getElementById('modalMedia');
  const modalTitle = document.getElementById('modalTitle');
  const modalDesc = document.getElementById('modalDesc');
  
  // è½®æ’­å›¾çŠ¶æ€
  let currentSlideIndex = 0;
  let currentSlideImages = [];

  function openModal(id) {
    const data = notesData.find(n => n.id === id);
    if(!data) return;

    modalTitle.innerText = data.title;
    modalDesc.innerText = data.desc;
    modalMedia.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹

    // 1. è§†é¢‘ç±»å‹
    if(data.type === 'video') {
      const video = document.createElement('video');
      video.src = data.videoSrc;
      video.controls = true;
      // video.autoplay = true;
      modalMedia.appendChild(video);
    } 
    // 2. å›¾ç‰‡ç±»å‹ (å¼€å¯è½®æ’­å›¾)
    else if (data.type === 'image') {
      currentSlideImages = data.images || [data.cover];
      currentSlideIndex = 0;
      renderSlider();
    } 
    // 3. æ–‡å­—ç±»å‹ (æ˜¾ç¤ºå•å¼ å°é¢)
    else {
      const img = document.createElement('img');
      img.src = data.cover;
      img.style.maxWidth = "100%";
      img.style.maxHeight = "100%";
      img.style.objectFit = "contain";
      modalMedia.appendChild(img);
    }

    overlay.classList.add('open');
  }

  // ğŸ”¥ æ¸²æŸ“è½®æ’­å›¾æ ¸å¿ƒé€»è¾‘
  function renderSlider() {
    modalMedia.innerHTML = ''; // æ¸…ç©º
    
    // 1. æ”¾å…¥æ‰€æœ‰å›¾ç‰‡ (åªæ˜¾ç¤ºå½“å‰Indexçš„)
    currentSlideImages.forEach((src, idx) => {
      const img = document.createElement('img');
      img.src = src;
      img.className = `slider-img ${idx === currentSlideIndex ? 'active' : ''}`;
      modalMedia.appendChild(img);
    });

    // å¦‚æœåªæœ‰ä¸€å¼ å›¾ï¼Œä¸æ˜¾ç¤ºæŒ‰é’®å’Œåœ†ç‚¹
    if(currentSlideImages.length <= 1) return;

    // 2. å·¦ç®­å¤´
    const prevBtn = document.createElement('div');
    prevBtn.className = `slider-btn slider-prev ${currentSlideIndex === 0 ? 'hidden' : ''}`;
    prevBtn.innerHTML = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>`;
    prevBtn.onclick = (e) => { e.stopPropagation(); changeSlide(-1); };
    modalMedia.appendChild(prevBtn);

    // 3. å³ç®­å¤´
    const nextBtn = document.createElement('div');
    nextBtn.className = `slider-btn slider-next ${currentSlideIndex === currentSlideImages.length - 1 ? 'hidden' : ''}`;
    nextBtn.innerHTML = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>`;
    nextBtn.onclick = (e) => { e.stopPropagation(); changeSlide(1); };
    modalMedia.appendChild(nextBtn);

    // 4. åº•éƒ¨åœ†ç‚¹
    const dotsContainer = document.createElement('div');
    dotsContainer.className = 'slider-dots';
    for(let i=0; i<currentSlideImages.length; i++) {
      const dot = document.createElement('div');
      dot.className = `slider-dot ${i === currentSlideIndex ? 'active' : ''}`;
      dotsContainer.appendChild(dot);
    }
    modalMedia.appendChild(dotsContainer);

    // 5. å³ä¸Šè§’é¡µç  (1/5)
    const counter = document.createElement('div');
    counter.className = 'image-counter';
    counter.innerText = `${currentSlideIndex + 1}/${currentSlideImages.length}`;
    modalMedia.appendChild(counter);
  }

  // åˆ‡æ¢å›¾ç‰‡
  function changeSlide(direction) {
    const newIndex = currentSlideIndex + direction;
    if(newIndex >= 0 && newIndex < currentSlideImages.length) {
      currentSlideIndex = newIndex;
      renderSlider(); // é‡æ–°æ¸²æŸ“æ‰€æœ‰çŠ¶æ€
    }
  }

  function closeModal() {
    overlay.classList.remove('open');
    modalMedia.innerHTML = ''; 
  }
  overlay.addEventListener('click', (e) => { if(e.target === overlay) closeModal(); });

  window.onload = initFeed;

</script>
</body>
</html>